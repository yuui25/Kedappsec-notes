<<<BEGIN>>>
# 00_index.md

（先頭要約：ガイドライン対応の位置づけ）
- ASVS：Web中心の規格だが、NW側で「到達性・認証・権限・経路」を確定しないとWeb検証もズレるため、“前提を支える技術”として接続する
- WSTG：Webテストでも前提として必要なネットワーク観測（到達性、境界、経路）を支える
- PTES：Intelligence Gathering → Vulnerability Analysis → Exploitation/Post-Exploitation の“導線”そのものがNWで決まる
- ATT&CK：Discovery/Credential Access/Lateral Movement 等の目的に直結するため、分類ではなく「境界モデル」として扱う

## 目的（この技術で到達する状態）
- Network領域（Web:NW=5:5）の学習・検証を、単なるポートスキャンやツール操作で終わらせず、**到達性→サービス→認証→権限→横展開の入口**として体系化する。
- “社内NW/クラウドNW/検証ラボ”のどれでも、次を説明できる状態にする。
  - どこに到達できるか（資産境界）
  - どこから先が外部/第三者か（信頼境界）
  - どこで権限が切り替わる/伝播するか（権限境界）
- 以降の `01_enum / 02_post / 03_creds / 04_ad` を、実務で回せる順序と接続で使えるようにする。

## 前提（対象・範囲・想定）
- 対象：許可された検証範囲のみ（ネットワーク系は影響が出やすいので特に厳守）。
- 想定：
  - Webだけでなく、NW側に踏み込むと “認証・権限・経路” が急に複雑になる
  - AD/SMB/RDP、VPN/VDI、クラウドNW（VPC/VNet）、SaaS連携が絡む可能性がある
- Labs連動：
  - `04_labs/02_virtualization/03_networking_nat_hostonly_bridge.md`
  - `04_labs/01_local/03_capture_証跡取得（pcap har log）.md`
- Web側との接続：
  - `01_topics/02_web/01_web_recon_入口・境界・攻め筋の確定.md`（入口・境界の考え方をNWにも適用する）

## 観測ポイント（何を見ているか：プロトコル/データ/境界）
### Network領域の“最小モデル”（この順で固定）
1) 到達性（Reachability）
- 何が見える/届く：ICMP/TCP/UDP、名前解決（DNS）、ルーティング、NAT、FW/SG
- 結果の意味：到達できない＝存在しない、ではない（境界で落ちている可能性）

2) サービス（Service）
- 何が動いている：ポート/バナー/プロトコル、暗号、バージョン
- 結果の意味：サービス＝攻撃面。Webより“入口が少ない代わりに深い”ことが多い

3) 認証（AuthN）
- 何で本人性が成立する：ローカル/ドメイン、鍵/パスワード/チケット、MFA、端末制限
- 結果の意味：認証方式が分かると、次の権限推定・横展開の入口が見える

4) 権限（AuthZ/Privilege）
- 何ができる：読み/書き/実行、管理系、共有資源、委任/委譲
- 結果の意味：権限境界が崩れると、横展開やデータ取得に直結する

5) 経路（Path）
- どこ経由で届く：踏み台、プロキシ、VPN、ピボット、トンネル
- 結果の意味：経路が確定すると、検証の再現性と安全性（影響制御）が上がる

## 結果の意味（その出力が示す状態：何が言える/言えない）
- 言える（確定できる）
  - “どこまでが範囲で、どこに到達できるか”（資産境界/到達性）
  - “どのサービスが入口で、認証がどこにあるか”（信頼境界/入口）
  - “権限がどこで切り替わり、何が伝播するか”（権限境界）
- 推定（追加観測で強くなる）
  - 横展開の導線（どこからどこへ動けるか）
  - 監視/制限の存在（FW/EDR/監査）と安全な検証手順
- 言えない（この段階の限界）
  - スキャン結果だけでの断定（フィルタ/欺瞞/分割NWの可能性）
  - AD/認証基盤の内部構造（追加観測とラボ再現が必要）

## 攻撃者視点での利用（意思決定：優先度・攻め筋・次の仮説）
### 優先度（NWで最短に価値が出る順）
1) “到達性”の確定（無駄撃ちを減らす）
2) “認証がある入口”の特定（勝負所を絞る）
3) “権限が変わる地点”の特定（影響の大きい突破点）
4) “経路”の確定（再現性と安全性が上がる）

### 次の仮説（どこへ進むか）
- 入口がサービス列挙中心なら → `01_enum`
- 侵入後（シェル/セッション獲得）が前提になったら → `02_post`
- 認証情報が鍵になりそうなら → `03_creds`
- ドメイン環境がある/可能性が高いなら → `04_ad`

## 次に試すこと（仮説A/Bの分岐と検証）
- 仮説A：まずは「到達性→サービス→認証」を固めるべき
  - 次：`01_topics/03_network/01_enum_到達性→サービス→認証→権限推定.md`
- 仮説B：すでに侵入後の前提があり、横展開や権限が課題
  - 次：`01_topics/03_network/02_post_侵入後の前提（権限 経路 横展開の入口）.md`
- 仮説C：認証情報が散らばっており、攻撃/検知の両面が必要
  - 次：`01_topics/03_network/03_creds_認証情報の所在と扱い（攻撃 検知の両面）.md`
- 仮説D：ADドメインが絡む可能性が高い
  - 次：`01_topics/03_network/04_ad_ドメイン環境の基礎（ペンテスト視点の地図）.md`

## ガイドライン対応（ASVS / WSTG / PTES / MITRE ATT&CK：毎回）
- ASVS：
  - 直接のNW規格ではないが、Webの認証・認可・セッション・設定検証は「NWの到達性/経路/権限境界」が前提になるため、“前提を支える技術”として位置づける
- WSTG：
  - Webテストでも必要な前提（入口/境界/到達性/経路）を確定するための基盤として接続する
- PTES：
  - Intelligence Gathering：到達性/サービス/認証の観測で入口を絞る
  - Vulnerability Analysis：勝負所（認証/権限境界）に優先度を付ける
  - Exploitation/Post-Exploitation：経路と権限の変化を“状態”として再現可能にする
- MITRE ATT&CK：
  - 戦術：Discovery（環境把握）、Credential Access（認証情報の取得）、Lateral Movement（横展開）、Privilege Escalation（権限昇格）等
  - 本indexでは分類よりも「境界モデル（資産/信頼/権限）」の整理として使う

## 参考（必要最小限）
- `01_topics/03_network/01_enum_到達性→サービス→認証→権限推定.md`
- `01_topics/03_network/02_post_侵入後の前提（権限 経路 横展開の入口）.md`
- `01_topics/03_network/03_creds_認証情報の所在と扱い（攻撃 検知の両面）.md`
- `01_topics/03_network/04_ad_ドメイン環境の基礎（ペンテスト視点の地図）.md`
- `04_labs/02_virtualization/03_networking_nat_hostonly_bridge.md`
- `04_labs/01_local/03_capture_証跡取得（pcap har log）.md`

<<<END>>>