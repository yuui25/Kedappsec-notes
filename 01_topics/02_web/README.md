<<<BEGIN>>>
# 02_web/README.md（入口：このフォルダをどう読むか）

## 目的（この技術で到達する状態）
- `01_topics/02_web/` を開いたときに、**どこから読めばよいか**と**どのファイルが何の役割か**が即座に分かる。
- 1つの機能や現象に対して、**観測→意味づけ→次の一手**の順で迷わず参照できる。
- 深掘りが増えても、**「入口（00）」と「分割（01〜）」**の規則で、一覧性と拡張性を両立できる。

## 前提（対象・範囲・想定）
- 対象：WebアプリケーションおよびWeb APIの「入口・境界・権限・入力・設定」を扱う技術ユニット群。
- 想定する環境：フロント分離/モノリス、SSOやMFAの有無、CDN/WAFの有無など混在を想定。
- できること/やらないこと：
  - ここは「各ユニットへ辿るための入口」。詳細は各 `*_00_` と `*_01_` 以降へ寄せる。
  - 具体的な実行手順の羅列ではなく、判断のための導線を優先する。
- 依存する前提知識（必要最小限）：
  - HTTP/ブラウザの基本、認証・認可の概念差、ログ/証跡（HAR 等）の取得。

## まずここから（推奨の読み順）
1. `00_index.md`（この領域の全体像・最短導線）
2. 目的に近い「入口（00）」を選ぶ
   - 入口・境界：`01_web_00_recon_...`
   - 認証：`02_authn_00_...`
   - 認可：`03_authz_00_...`
   - APIの伝播：`04_api_00_...`
   - 入力→実行境界：`05_input_00_...`
   - 設定・運用境界：`06_config_00_...`
3. その入口の末尾にある「深掘りリンク枠」から、必要な分割（01〜）へ進む  
   - 分割が8件を超える場合は、**差し替え（上位8件だけ残す）**を前提に運用する。

## 命名規則（一覧で迷子を作らない）
- `NN_<領域>_00_<入口>.md`：入口（総合インデックス）。肥大化させず、観測設計・境界モデル・最小差分セットを中心に置く。
- `NN_<領域>_01_<論点>.md` 以降：深掘り（論点別の分割）。必要な論点が増えたら同一フォルダ内で追加する。
- 例：
  - `02_authn_00_...`（入口）
  - `02_authn_01_...`（深掘り）
  - `02_authn_02_...`（深掘り）

## 観測ポイント（何を見ているか：プロトコル/データ/境界）
このフォルダの各ユニットは、次の3境界で統一して整理する（どのテーマでも共通の読み方）。
- 資産境界：どこまでが対象か（ホスト/機能/データの線引き）
- 信頼境界：外部連携や第三者（SSO/外部API/CDN 等）をどこで越えるか
- 権限境界：主体（ユーザ/ロール/テナント）がどこで切り替わり、どう伝播するか

読むときは、まず「このユニットはどの境界を扱うか」を確認し、次に「観測（HTTP・レスポンス・ログ）」へ落とす。

## 目次（ショートカット）
- 全体：[`00_index.md`](00_index.md)

### 入口（総合インデックス）
- 入口・境界：[`01_web_00_recon_入口・境界・攻め筋の確定.md`](01_web_00_recon_入口・境界・攻め筋の確定.md)
- 認証：[`02_authn_00_認証・セッション・トークン.md`](02_authn_00_認証・セッション・トークン.md)
- 認可：[`03_authz_00_認可（IDOR BOLA BFLA）境界モデル化.md`](03_authz_00_認可（IDOR%20BOLA%20BFLA）境界モデル化.md)
- API：[`04_api_00_権限伝播・入力・バックエンド連携.md`](04_api_00_権限伝播・入力・バックエンド連携.md)
- 入力：[`05_input_00_入力→実行境界（テンプレ デシリアライズ等）.md`](05_input_00_入力→実行境界（テンプレ%20デシリアライズ等）.md)
- 設定：[`06_config_00_設定・運用境界（CORS ヘッダ Secrets）.md`](06_config_00_設定・運用境界（CORS%20ヘッダ%20Secrets）.md)

### 深掘り（論点別,随時追加）
<details>
<summary>02_authn（認証）</summary>

- [`02_authn_01_cookie属性と境界（Secure_HttpOnly_SameSite_Path_Domain）.md`](02_authn_01_cookie属性と境界（Secure_HttpOnly_SameSite_Path_Domain）.md)
- [`02_authn_02_session_lifecycle（更新_失効_固定化_ローテーション）.md`](02_authn_02_session_lifecycle（更新_失効_固定化_ローテーション）.md)
- [`02_authn_03_token設計（Bearer_JWT_Refresh_Rotation）.md`](02_authn_03_token設計（Bearer_JWT_Refresh_Rotation）.md)

</details>

<details>
<summary>03_authz（認可）</summary>

- [`03_authz_01_境界モデル（オブジェクト_ロール_テナント）.md`](03_authz_01_境界モデル（オブジェクト_ロール_テナント）.md)

</details>

<details>
<summary>04_api（API）</summary>

- [`04_api_01_権限伝播モデル（フロント_バックエンド_ジョブ）.md`](04_api_01_権限伝播モデル（フロント_バックエンド_ジョブ）.md)

</details>

<details>
<summary>05_input（入力→実行境界）</summary>

- [`05_input_01_入力→実行境界（テンプレート注入_SSTI）.md`](05_input_01_入力→実行境界（テンプレート注入_SSTI）.md)
- [`05_input_02_入力→実行境界（デシリアライズ_型混乱_ガジェット前提）.md`](05_input_02_入力→実行境界（デシリアライズ_型混乱_ガジェット前提）.md)

</details>

<details>
<summary>06_config（設定・運用境界）</summary>

- [`06_config_01_CORSと信頼境界（Origin_資格情報_プリフライト）.md`](06_config_01_CORSと信頼境界（Origin_資格情報_プリフライト）.md)
- [`06_config_02_Secrets管理と漏えい経路（JS_ログ_設定_クラウド）.md`](06_config_02_Secrets管理と漏えい経路（JS_ログ_設定_クラウド）.md)

</details>

## 結果の意味（このフォルダが提供する“状態”）
- 入口（00）を読むと、次が確定する：
  - どこを見るべきか（観測ポイント）
  - 何が言える/言えないか（境界としての解釈）
  - 次に何を試すべきか（仮説A/Bの分岐）
- 深掘り（01〜）を読むと、次が確定する：
  - 入口で立てた仮説を、より狭い論点で検証できる
  - “同じ現象でも条件差で意味が変わる”点を、差分で説明できる

## 攻撃者視点での利用（意思決定：優先度・攻め筋・次の仮説）
- 「どの入口（00）から入るべきか」は、観測された状態で決める：
  - ログイン/更新/失効の挙動が焦点 → `02_authn_00_...`
  - 主体は分かるが越境（他人/他テナント）可能性が焦点 → `03_authz_00_...`
  - フロント→API→バックエンドの伝播が焦点 → `04_api_00_...`
  - 入力が“表示”ではなく“評価/実行”へ到達している疑い → `05_input_00_...`
  - 設定により第三者ブラウザから読み取りが成立する疑い → `06_config_00_...`
- 時間制約がある場合の優先順（基本）：
  1) 境界を確定（入口：00）→ 2) 最小差分で成立条件を切る（深掘り：01〜）→ 3) 証跡を固める（labs/cases へ）

## 次に試すこと（仮説A/Bの分岐と検証）
- 仮説A：何から見ればよいか分からない（入口が不明）
  - 次の検証：`00_index.md` → `01_web_recon_...` の順で、入口/境界/攻め筋を確定する
  - 期待する観測：最初に見るべき機能群と、最短の分岐（次の一手）が定義できる
- 仮説B：認証周りの挙動差（ログアウト後も通る/更新が怪しい等）がある
  - 次の検証：`02_authn_00_...` → 該当する深掘り（cookie/session/token）へ
  - 期待する観測：寿命・失効・更新のどこが境界かを yes/no/unknown で言える
- 仮説C：主体は正しいが、他人/他テナントに届きそう
  - 次の検証：`03_authz_00_...` → 境界モデル（オブジェクト/ロール/テナント）へ
  - 期待する観観測：境界の定義ができ、検証観点のチェックへ接続できる

## 手を動かす検証（Labs連動：観測点を明確に）
- 検証環境（関連する `04_labs/`）：
  - `04_labs/01_local/02_proxy_計測・改変ポイント設計.md`
  - `04_labs/01_local/03_capture_証跡取得（pcap_harl_log）.md`
- 取得する証跡（目的ベースで最小限）：
  - HTTPログ/HAR、必要時にpcap、（可能なら）サーバログや監査ログ
- 観測の取り方（差分）：
  - 「同一入口・同一条件で、1点だけ変える」→ 結果差分を保存 → 結論へ

## コマンド/リクエスト例（例示は最小限・意味の説明が主）
~~~~
# 目的：ファイルが増えた後でも、目的の論点へ即座に到達する（一覧スクロールを減らす）
# 例：認証領域のファイル名を絞る
git ls-files 01_topics/02_web | grep "^01_topics/02_web/02_authn_"

# この例で観測していること：
# - 命名規則（02_authn_XX_）が効いているか
# 出力のどこを見るか：
# - 02_authn_00 と 02_authn_01〜 が並んでいるか
~~~~

## ガイドライン対応（ASVS / WSTG / PTES / MITRE ATT&CK：毎回記載）
- ASVS：
  - 該当領域/章：V1/V2/V3/V4/V5/V7/V13 が主戦場（各ユニットの末尾で具体化）
  - このREADMEの役割：ASVSの“管理策”を、どの入口（00）で扱うかへ誘導する
- WSTG：
  - 該当カテゴリ：ATHN/SESS/IDNT/INPV/CONF/API 等（各ユニットで観測と結びつける）
  - このREADMEの役割：テスト観点を貼り付けず、「観測→差分→判断」へ落とす導線を提供する
- PTES：
  - 該当フェーズ：情報収集→脆弱性分析→実証→報告の橋渡し（このフォルダ全体の役割）
  - 前後フェーズとの繋がり（1行）：入口で境界を確定し、分割で成立条件を切り、証跡とケースへ落とす
- MITRE ATT&CK：
  - 該当戦術：Discovery / Credential Access / Collection / Execution 等へ接続（各ユニットで位置づけ）
  - 攻撃者の目的：観測された状態から意思決定（優先度・次の仮説）を変えるための材料化

## 参考（必要最小限）
- 本フォルダ内の入口（00）と `00_index.md` を一次参照とする（外部リンクは必要時に各ユニットへ寄せる）。

## リポジトリ内リンク（最大3つまで）
- 関連 topics：`../01_asm-osint/00_index.md`
- 関連 playbooks：`../../02_playbooks/02_web_recon_入口→境界→検証方針.md`
- 関連 labs / cases：`../../04_labs/01_local/00_index.md`

---
<<END>>>
