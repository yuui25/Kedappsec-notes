<<<BEGIN>>>
# 00_index.md

（先頭要約：ガイドライン対応の位置づけ）
- ASVS：SaaSは“アプリの外”に見えても、認証・認可・監査・設定はアプリ境界を越えて成立するため、Web/NWの前提を支える技術として扱う
- WSTG：SSO/外部連携/設定ミスはWebテスト観点と直結する。SaaSを特別扱いせず「境界（信頼・権限・資産）」で整理する
- PTES：Pre-engagement/Intelligence Gathering で連携先と責任分界を固めないと、以降の検証がズレる（ただし本プロジェクトでは骨組みは最小）
- ATT&CK：Collection/Exfiltration/Privilege Escalation がSaaS側で成立することがあるため、目的と境界で結びつける

## 目的（この技術で到達する状態）
- SaaS領域を「SaaSの種類紹介」で終えず、Web/NWと同じ基準で次を説明できる状態にする。
  - どこが資産境界か（何が守るべき対象か）
  - どこが信頼境界か（第三者/外部連携/委任）
  - どこが権限境界か（ロール/グループ/共有/外部ゲスト）
- SSO（IdP連携）と“共有・外部連携・監査ログ”を、実務で判断できる粒度で深掘りするための入口（index）を作る。
- Web/NW=5:5の前提を崩さず、SaaSは“現代の攻撃面の一部”として必要最小限で確実に扱う。

## 前提（対象・範囲・想定）
- 対象：許可範囲のSaaS（例：IdP、メール、ストレージ、チケット、CI/CD、コラボレーション等）と、その連携（SSO、API、Webhook）。
- 想定：
  - SaaSは「設定」と「共有」が攻撃面を作る（コード脆弱性より運用境界）
  - WebアプリはSaaSと連携して初めて成立することが多い（認証、通知、ファイル、分析）
- 依存（前段の接続）：
  - `01_topics/02_web/02_authn_認証・セッション・トークン.md`
  - `01_topics/02_web/06_config_設定・運用境界（CORS ヘッダ Secrets）.md`
  - `01_topics/03_network/03_creds_認証情報の所在と扱い（攻撃 検知の両面）.md`
- Labs連動（推奨）：
  - `04_labs/04_cloud/02_azure_lab_構成と検証観点.md`（IdP/連携の再現に寄せやすい）
  - `04_labs/04_cloud/01_aws_lab_構成と検証観点.md`（API/監査ログの再現に寄せやすい）

## 観測ポイント（何を見ているか：プロトコル/データ/境界）
### SaaSを“境界モデル”で見る（特別扱いしない）
1) 資産境界：何が守るべき対象か
- 例：ユーザー情報、権限設定、ファイル、APIトークン、監査ログ、連携設定

2) 信頼境界：どこから先が第三者か
- 例：外部ゲスト、外部テナント、外部アプリ（OAuthアプリ）、Webhook先、連携先SaaS

3) 権限境界：どこで権限が切り替わる/伝播するか
- 例：ロール/グループ、共有権限、委任（OAuth scope）、管理者権限、サービスアカウント

### “SaaSでありがちな攻撃面”を状態として捉える
- SSO/IdP連携：本人性がどこで成立し、どの属性が権限に効くか
- 共有：どの範囲に公開され、どこまで権限が伝播するか
- 外部連携：どのデータが外へ出て、戻ってくるか（越境点）
- 監査ログ：何が記録され、何が追跡できないか（検知と再現性）

## 結果の意味（その出力が示す状態：何が言える/言えない）
- 言える（確定できる）
  - SaaSが関与する境界（資産/信頼/権限）と、Web/NW側への接続点
  - 連携の入口（SSO、API、共有、Webhook）と優先度
- 推定（追加観測で強くなる）
  - “越境が起きやすい場所”（共有/外部アプリ/ゲスト/属性連携）
  - 監査ログで追える範囲（検知・説明の強さ）
- 言えない（この段階の限界）
  - SaaS固有の詳細設定（サービスごとに異なる）
  - 組織ポリシー（許可/禁止）の断定（観測が必要）

## 攻撃者視点での利用（意思決定：優先度・攻め筋・次の仮説）
### 優先度（SaaSで最短に境界が崩れる順）
1) IdP連携（SSO/OIDC/SAML/OAuth）：本人性と権限がまとめて動く
2) 共有・外部ゲスト：権限が外へ伝播しやすい
3) 外部アプリ（OAuthアプリ等）：委任（scope）で長期権限が付くことがある
4) 監査ログ：防御の話ではなく、攻撃検証の再現性・説明力に直結する

### 次に進むべきファイル
- まずはIdP連携の信頼境界へ：
  - `01_topics/04_saas/01_idp_連携（SAML OIDC OAuth）と信頼境界.md`
- 次に共有・外部連携・監査ログへ：
  - `01_topics/04_saas/02_saas_共有・外部連携・監査ログの勘所.md`

## 次に試すこと（仮説A/Bの分岐と検証）
- 仮説A：SSOが前提で、権限が属性（role/group/claim）で決まっている
  - 次：`01_idp_連携（SAML OIDC OAuth）と信頼境界.md`
- 仮説B：共有・外部連携が多く、越境点が広い
  - 次：`02_saas_共有・外部連携・監査ログの勘所.md`
- 仮説C：資格情報（APIキー/トークン/サービスアカウント）が鍵になりそう
  - 戻り先：`03_network/03_creds_認証情報の所在と扱い（攻撃 検知の両面）.md`

## ガイドライン対応（ASVS / WSTG / PTES / MITRE ATT&CK：毎回）
- ASVS：
  - 認証・認可・秘密情報・監査はSaaS連携で成立することがあるため、SSO/共有/外部アプリを“境界”として扱う
- WSTG：
  - 認証（SSO）や設定（外部連携/共有）をWebテストの一部として捉え、境界越えの観点で整理する
- PTES：
  - Intelligence Gathering：連携先と責任分界（どこが外部か）を確定し、以降の検証をズレさせない
- MITRE ATT&CK：
  - 戦術：Credential Access（トークン/委任）、Collection（データ取得）、Exfiltration（外部共有/連携）、Privilege Escalation（管理権限/委任）等
  - 目的に対して「どの境界がSaaS側で崩れるか」を説明できる状態にする

## 参考（必要最小限）
- `01_topics/04_saas/01_idp_連携（SAML OIDC OAuth）と信頼境界.md`
- `01_topics/04_saas/02_saas_共有・外部連携・監査ログの勘所.md`
- `01_topics/02_web/02_authn_認証・セッション・トークン.md`
- `01_topics/02_web/06_config_設定・運用境界（CORS ヘッダ Secrets）.md`
- `01_topics/03_network/03_creds_認証情報の所在と扱い（攻撃 検知の両面）.md`

<<<END>>>